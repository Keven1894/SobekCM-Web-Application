<?xml version="1.0" encoding="utf-8"?>
<Config>
  <Microservices>
    <Mapping>
      <Path Segment="cache">
        <Endpoint Segment="dump" ComponentID="C1" Method="CacheDump" Enabled="true" RestrictionRangeID="R1 R2">
          <Description>Get the list of all cached objects</Description>
          <RequestType>GET</RequestType>
          <Arguments>none</Arguments>
          <Returns>List&lt;CachedObject&gt;</Returns>
        </Endpoint>
        <Endpoint Segment="reset" ComponentID="C1" Method="CacheReset" Enabled="true" RestrictionRangeID="R1" >
          <Description>Reset the cache</Description>
          <RequestType>GET</RequestType>
          <Arguments>none</Arguments>
          <Returns>string {message}</Returns>
        </Endpoint>
      </Path>
      <Path Segment="dms">
        <Path Segment="search">
          <Endpoint Segment="acct" ComponentID="C2" Method="CacheDump" Enabled="true" RestrictionRangeID="R1 R2" />
        </Path>
      </Path>
      <Path Segment="types">
        <Endpoint Segment="amenities" ComponentID="C3" Method="TypesAmenities" Enabled="true" />
        <Endpoint Segment="languages" ComponentID="C3" Method="TypesLanguages" Enabled="true" />
        <Endpoint Segment="parking" ComponentID="C3" Method="TypesParking" Enabled="true" />
        <Endpoint Segment="payment" ComponentID="C3" Method="TypesPayment" Enabled="true" />
        <Endpoint Segment="shipping" ComponentID="C3" Method="TypesShipping" Enabled="true" >
          <Description>Post a new shipping type</Description>
          <RequestType>POST</RequestType>
          <Arguments>none</Arguments>
          <Returns>string {message}</Returns>
        </Endpoint>
      </Path>
      <Path Segment="utility">
        <Path Segment="citystate">
          <Endpoint Segment="zip" ComponentID="C3" Method="GetCityState" Enabled="true" />
        </Path>
      </Path>
    </Mapping>
    <Components>
      <Component ID="C1" Assembly="XX" Namespace="DmsRestApi.Endpoint" Class="CacheServices" />
      <Component ID="C2" Assembly="XX" Namespace="DmsRestApi.Endpoint" Class="TypeServices" />
      <Component ID="C3" Assembly="XX" Namespace="DmsRestApi.Endpoint" Class="CityStateServices" />
      <Component ID="C4" Assembly="XX" Namespace="DmsRestApi.Endpoint" Class="HeadingServices" />
      <Component ID="C5" Assembly="XX" Namespace="DmsRestApi.Endpoint" Class="WebServices" />
    </Components>
    <RestrictionRanges>
      <Range ID="R1" Label="Webservers" >
        <IpRange Label="USYellow.com" Start="74.52.223.155" />
        <IpRange Label="BrightLocal.com" Start="74.52.223.155" />
      </Range>
      <Range ID="R2" Label="CSR">
        <IpRange Label="East Office" Start="192.168.0.0" End="192.168.0.255" />
      </Range>
    </RestrictionRanges>
  </Microservices>
</Config>