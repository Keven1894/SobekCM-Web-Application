<!-- JS -->
<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
<script src="http://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script type="text/javascript" src="https://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript" src="GeoRegions.js"></script>
<script type="text/javascript">

	var map; //this needs to stay global

	function initialize() {

		//define gmap options
		var gmapOptions = {
			zoom: 4, //default/start zoom level
			maxZoom: 6, //max zoom level (how far in you can go)
			minZoom: 3, //min zoom level (how far out you can go)
			center: new google.maps.LatLng(29.895387321352967, -81.31608009338379), 
			mapTypeId: google.maps.MapTypeId.ROADMAP,
			streetViewEnabled: false
		};
		
		//define gmap object
		map = new google.maps.Map(document.getElementById('gmapContainer'), gmapOptions);
		
		//load region polygons
		AddGeoRegions();
		
	}

	//handler if polygon is clicked
	function polygonClickedActionHandler(id,param){
		var parsedId = id.replace("_","%20");
		switch(param){
			case "ST": //state
				window.open("http://newspapercat.org/exact/?t=%22"+parsedId+"%22&f=ST","_self");
			break;
			case "CO": //country
				window.open("http://newspapercat.org/results/?t="+parsedId+",,,&f=CO","_self");
			break;
			case "RG": //region
				window.open("http://newspapercat.org/results/?t="+parsedId,"_self");
			break;
		}
	}
	
	//start the above mess when the page has loaded
	google.maps.event.addDomListener(window, 'load', initialize);

</script>

<!-- CSS -->
<style type="text/css">
      #gmapContainer {
        height: 100%;
        width: 100%;
      }
</style>

<!-- HTML -->
<div id="gmapContainer"></div>
